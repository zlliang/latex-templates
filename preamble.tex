% ------------------------------------------------------------------
%     LaTeX Preamble -- Personal documents of Zilong Liang
% ------------------------------------------------------------------

% --- Document Class -----------------------------------------------
\documentclass{article}  % English
% \documentclass{ctexart}  % Chinese
% ------------------------------------------------------------------

% --- Packages -----------------------------------------------------
\usepackage{geometry,fancyhdr,setspace}  % Geometry and line space
\usepackage{titling}  % Title format
\usepackage[style,runin]{abstract}  % Abstract format
\usepackage[sc]{titlesec}  % Section title format
\usepackage{hyperref,cite}  % Complicated links and citations
\usepackage{float,graphicx}  % Graphics
\usepackage{tabularx,booktabs,threeparttable}  % Enhanced tabular
\usepackage{caption,subcaption}  % Caption
\usepackage{xcolor,tcolorbox}  % Color and colored text box
\usepackage[thmmarks]{ntheorem}  % Theorem environment
\usepackage{amsmath,amssymb,bm,mathtools}  % AMS math symbols and tools
\usepackage{cleveref}  % Clever refs
\usepackage{cases,units}  % Cases and units for math
\usepackage{algorithm,algorithmicx,algpseudocode,minted}  % Pseudocode and code
\usepackage{tikz,pgfplots}  % TikZ and PGFPlots
\usetikzlibrary{positioning}  % Relative position 
\usetikzlibrary{cd}  % Change diagram
\usetikzlibrary{backgrounds}  % Backgrounds
\usetikzlibrary{fit}  % Fit
\usetikzlibrary{intersections}  % Fit
\pgfplotsset{compat=1.16}
% ------------------------------------------------------------------

% --- Settings -----------------------------------------------------
% --- Geometry and Hyperlink
\geometry{a4paper,centering,scale=0.75}
\hypersetup{pdfborder={0 0 0},bookmarksnumbered=true}
% --- Page style (page head and page foot)
\pagestyle{plain}
\pretitle{\vspace{-2cm}\begin{flushleft}\scshape\Large}
\posttitle{\end{flushleft}}
\preauthor{\begin{flushleft}\scshape}
\postauthor{\end{flushleft}}
\predate{\begin{flushleft}\scshape}
\postdate{\end{flushleft}}
\renewcommand{\abstractnamefont}{\scshape\underline}
\abslabeldelim{\quad}
\setlength{\absleftindent}{0mm}
\setlength{\absrightindent}{0mm}
\usemintedstyle{friendly}
% --- Vertical spaces for float object (for Chinese articles)
% \renewcommand\arraystretch{1.3}
% --- Bibliography format
\bibliographystyle{siamplain}  % Using SIAM style
% --- Connect theorem environemts with sections
% \numberwithin{equation}{section}
% \numberwithin{figure}{section}
% \numberwithin{table}{section}
% ------------------------------------------------------------------

% --- New Math Commands and Environments ---------------------------
% --- Symbols
\DeclareMathOperator{\diag}{diag}  % Diagonal matrix
\DeclareMathOperator{\tridiag}{tridiag}  % Tridiagonal matrix
\DeclareMathOperator{\tr}{tr}  % Trace
\DeclareMathOperator{\mspan}{span}  % Spanning space
\DeclareMathOperator{\rank}{rank}  % Rank
\DeclareMathOperator{\hess}{Hess}  % Hessian
\DeclareMathOperator{\prob}{P}  % Probability
\DeclareMathOperator{\expct}{E}  % Expectation
\DeclareMathOperator{\cov}{cov}  % Covariance
\DeclareMathOperator{\grad}{grad}  % Gradient
\DeclareMathOperator{\range}{range}  % Range
\DeclareMathOperator{\fl}{fl}  % Floating point number
\DeclareMathOperator{\sgn}{sgn}  % Sign function
\DeclareMathOperator*{\argmax}{argmax}  % argmax
\DeclareMathOperator*{\argmin}{argmin}  % argmin
\renewcommand{\t}{\mathrm{T}}  % Transpose
\newcommand{\h}{\mathrm{*}}  % Conjugate transpose
\newcommand{\mo}[1]{\left|{#1}\right|}  % Mod
\newcommand{\norm}[1]{\left\|{#1}\right\|}  % Norm
\newcommand{\numset}{\mathbb}  % Number sets
\newcommand{\conj}{\overline}  % Conjugate
\newcommand{\all}{\forall\,}  % For all
\newcommand{\exi}{\exists\,}  % Exists
\newcommand{\e}{\mathrm{e}}  % e
\renewcommand{\i}{\mathrm{i}}  % i
\newcommand{\st}{\,\mathrm{s.t.}\,}  % "Such that" or "Subject to"
\renewcommand{\d}{\mathop{}\!\mathrm{d}}  % Differentiation
\newcommand{\pd}{\mathop{}\!\partial}  % Partial diff
\renewcommand{\hat}{\widehat}  % Wide hat
\renewcommand{\tilde}{\widetilde}  % Wide tilde
\renewcommand{\leq}{\leqslant}  % Less than or equal to
\renewcommand{\geq}{\geqslant}  % Greater than or equal to
\renewcommand{\l}{\left}  % Left
\renewcommand{\r}{\right}  % Right
\renewcommand{\qed}{\hfill\ensuremath{\square}}  % End of proof
% --- Theorem environments
{
  \theoremheaderfont{\scshape}
  \theorembodyfont{\itshape}
  \newtheorem{definition}{Definition}  % Definition
  \newtheorem{theorem}{Theorem}  % Theorem
  \newtheorem{proposition}{Proposition}  % Proposition
  \newtheorem{corollary}{Corollary}  % Corollary
  \newtheorem{lemma}{Lemma}  % Lemma
  \newtheorem{example}{Example}  % Example
  \newtheorem{alg}{Algorithm}  % Algorithm
  {\theoremstyle{nonumberplain} \theoremsymbol{\mbox{$\Box$}}
  \newtheorem{proof}{\textit{Proof.}}}  % Proof
}
% ------------------------------------------------------------------
